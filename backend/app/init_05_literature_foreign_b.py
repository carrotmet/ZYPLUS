# -*- coding: utf-8 -*-
"""
05 学科门类：文学 - 外国语言文学类（B部分）
包含：其他非通用语种、翻译、商务英语等
"""

import sys
import os
import json

backend_path = 'D:/github.com/carrotmet/zyplusv2/backend'
if backend_path not in sys.path:
    sys.path.insert(0, backend_path)
os.chdir(backend_path)

from app.database import SessionLocal
from app import models

def get_or_create_discipline(db, name, code, description):
    """获取或创建学科门类"""
    discipline = db.query(models.Discipline).filter(models.Discipline.code == code).first()
    if not discipline:
        discipline = models.Discipline(name=name, code=code, description=description)
        db.add(discipline)
        db.commit()
        db.refresh(discipline)
        print(f"  创建学科门类: {name} (ID: {discipline.id})")
    else:
        print(f"  学科门类已存在: {name} (ID: {discipline.id})")
    return discipline

def get_or_create_category(db, name, code, discipline_id, description):
    """获取或创建专业类"""
    category = db.query(models.MajorCategory).filter(
        models.MajorCategory.code == code,
        models.MajorCategory.discipline_id == discipline_id
    ).first()
    if not category:
        category = models.MajorCategory(
            name=name, code=code, discipline_id=discipline_id, description=description
        )
        db.add(category)
        db.commit()
        db.refresh(category)
        print(f"    创建专业类: {name} (ID: {category.id})")
    else:
        print(f"    专业类已存在: {name} (ID: {category.id})")
    return category

def create_major_if_not_exists(db, name, code, category_id, description, duration, courses):
    """创建专业（如果不存在）"""
    existing = db.query(models.Major).filter(models.Major.code == code).first()
    if existing:
        print(f"      跳过: {name} (已存在)")
        return None
    
    major = models.Major(
        name=name,
        code=code,
        category_id=category_id,
        description=description,
        duration=duration,
        main_courses=json.dumps(courses, ensure_ascii=False)
    )
    db.add(major)
    db.commit()
    db.refresh(major)
    print(f"      创建专业: {name} (ID: {major.id})")
    return major

def init_literature_foreign_b_data():
    """初始化外国语言文学类数据（B部分：其他语种及应用类专业）"""
    print("=== 初始化 05 文学类数据（外国语言文学B：其他语种及应用类）===\n")
    db = SessionLocal()
    
    try:
        # 创建学科门类：文学
        discipline = get_or_create_discipline(
            db, "文学", "05",
            "文学学科门类，包含中国语言文学、外国语言文学、新闻传播学等专业类"
        )
        
        # 0502 外国语言文学类
        category = get_or_create_category(db, "外国语言文学类", "0502", discipline.id,
            "研究外国语言和文学的学科")
        
        # 其他语种（B部分）
        majors_data = [
            # 亚洲其他语言
            ("泰米尔语", "050239", "培养从事泰米尔语教学、翻译、研究的专业人才",
             ["基础泰米尔语", "高级泰米尔语", "泰米尔语视听说", "泰米尔语写作", "泰米尔文学", "印度南部国情", "南亚文化"]),
            ("普什图语", "050240", "培养从事普什图语教学、翻译、研究的专业人才",
             ["基础普什图语", "高级普什图语", "普什图语视听说", "普什图语写作", "普什图文学", "阿富汗国情", "中亚文化"]),
            ("世界语", "050241", "培养从事世界语教学、翻译、研究的专业人才",
             ["基础世界语", "高级世界语", "世界语视听说", "世界语写作", "世界语文学", "国际语学", "世界语运动史"]),
            ("孟加拉语", "050242", "培养从事孟加拉语教学、翻译、研究的专业人才",
             ["基础孟加拉语", "高级孟加拉语", "孟加拉语视听说", "孟加拉语写作", "孟加拉文学", "孟加拉国情", "南亚文化"]),
            ("尼泊尔语", "050243", "培养从事尼泊尔语教学、翻译、研究的专业人才",
             ["基础尼泊尔语", "高级尼泊尔语", "尼泊尔语视听说", "尼泊尔语写作", "尼泊尔文学", "尼泊尔国情", "喜马拉雅文化"]),
            ("克罗地亚语", "050244", "培养从事克罗地亚语教学、翻译、研究的专业人才",
             ["基础克罗地亚语", "高级克罗地亚语", "克罗地亚语视听说", "克罗地亚语写作", "克罗地亚文学", "克罗地亚国情", "巴尔干文化"]),
            ("荷兰语", "050245", "培养从事荷兰语教学、翻译、研究的专业人才",
             ["基础荷兰语", "高级荷兰语", "荷兰语视听说", "荷兰语写作", "荷兰文学", "荷兰国情", "低地国家文化"]),
            ("芬兰语", "050246", "培养从事芬兰语教学、翻译、研究的专业人才",
             ["基础芬兰语", "高级芬兰语", "芬兰语视听说", "芬兰语写作", "芬兰文学", "芬兰国情", "北欧文化"]),
            ("乌克兰语", "050247", "培养从事乌克兰语教学、翻译、研究的专业人才",
             ["基础乌克兰语", "高级乌克兰语", "乌克兰语视听说", "乌克兰语写作", "乌克兰文学", "乌克兰国情", "东欧文化"]),
            ("挪威语", "050248", "培养从事挪威语教学、翻译、研究的专业人才",
             ["基础挪威语", "高级挪威语", "挪威语视听说", "挪威语写作", "挪威文学", "挪威国情", "北欧文化"]),
            ("丹麦语", "050249", "培养从事丹麦语教学、翻译、研究的专业人才",
             ["基础丹麦语", "高级丹麦语", "丹麦语视听说", "丹麦语写作", "丹麦文学", "丹麦国情", "北欧文化"]),
            ("冰岛语", "050250", "培养从事冰岛语教学、翻译、研究的专业人才",
             ["基础冰岛语", "高级冰岛语", "冰岛语视听说", "冰岛语写作", "冰岛文学", "冰岛国情", "北欧文化"]),
            ("爱尔兰语", "050251", "培养从事爱尔兰语教学、翻译、研究的专业人才",
             ["基础爱尔兰语", "高级爱尔兰语", "爱尔兰语视听说", "爱尔兰语写作", "爱尔兰文学", "爱尔兰国情", "凯尔特文化"]),
            ("拉脱维亚语", "050252", "培养从事拉脱维亚语教学、翻译、研究的专业人才",
             ["基础拉脱维亚语", "高级拉脱维亚语", "拉脱维亚语视听说", "拉脱维亚语写作", "拉脱维亚文学", "拉脱维亚国情", "波罗的海文化"]),
            ("立陶宛语", "050253", "培养从事立陶宛语教学、翻译、研究的专业人才",
             ["基础立陶宛语", "高级立陶宛语", "立陶宛语视听说", "立陶宛语写作", "立陶宛文学", "立陶宛国情", "波罗的海文化"]),
            ("斯洛文尼亚语", "050254", "培养从事斯洛文尼亚语教学、翻译、研究的专业人才",
             ["基础斯洛文尼亚语", "高级斯洛文尼亚语", "斯洛文尼亚语视听说", "斯洛文尼亚语写作", "斯洛文尼亚文学", "斯洛文尼亚国情", "巴尔干文化"]),
            ("爱沙尼亚语", "050255", "培养从事爱沙尼亚语教学、翻译、研究的专业人才",
             ["基础爱沙尼亚语", "高级爱沙尼亚语", "爱沙尼亚语视听说", "爱沙尼亚语写作", "爱沙尼亚文学", "爱沙尼亚国情", "波罗的海文化"]),
            ("马耳他语", "050256", "培养从事马耳他语教学、翻译、研究的专业人才",
             ["基础马耳他语", "高级马耳他语", "马耳他语视听说", "马耳他语写作", "马耳他文学", "马耳他国情", "地中海文化"]),
            ("哈萨克语", "050257", "培养从事哈萨克语教学、翻译、研究的专业人才",
             ["基础哈萨克语", "高级哈萨克语", "哈萨克语视听说", "哈萨克语写作", "哈萨克文学", "哈萨克斯坦国情", "中亚文化"]),
            ("乌兹别克语", "050258", "培养从事乌兹别克语教学、翻译、研究的专业人才",
             ["基础乌兹别克语", "高级乌兹别克语", "乌兹别克语视听说", "乌兹别克语写作", "乌兹别克文学", "乌兹别克斯坦国情", "中亚文化"]),
            ("祖鲁语", "050259", "培养从事祖鲁语教学、翻译、研究的专业人才",
             ["基础祖鲁语", "高级祖鲁语", "祖鲁语视听说", "祖鲁语写作", "祖鲁文学", "南非国情", "班图文化"]),
            ("拉丁语", "050260", "培养从事拉丁语研究的专业人才",
             ["基础拉丁语", "高级拉丁语", "拉丁语语法", "拉丁文学", "古罗马文化", "中世纪拉丁语", "西方古典文献"]),
            
            # 其他非通用语种
            ("翻译", "050261", "培养从事翻译工作的专业人才",
             ["翻译概论", "英汉翻译", "汉英翻译", "口译基础", "同声传译", "翻译技术", "翻译批评"]),
            ("商务英语", "050262", "培养从事商务英语工作的专业人才",
             ["商务英语", "商务写作", "国际贸易", "国际商务谈判", "跨文化商务交际", "市场营销", "商务翻译"]),
            ("阿姆哈拉语", "050263T", "培养从事阿姆哈拉语教学、翻译、研究的专业人才",
             ["基础阿姆哈拉语", "高级阿姆哈拉语", "阿姆哈拉语视听说", "阿姆哈拉语写作", "埃塞俄比亚文学", "埃塞俄比亚国情", "东非文化"]),
            ("吉尔吉斯语", "050264T", "培养从事吉尔吉斯语教学、翻译、研究的专业人才",
             ["基础吉尔吉斯语", "高级吉尔吉斯语", "吉尔吉斯语视听说", "吉尔吉斯语写作", "吉尔吉斯文学", "吉尔吉斯斯坦国情", "中亚文化"]),
            ("索马里语", "050265T", "培养从事索马里语教学、翻译、研究的专业人才",
             ["基础索马里语", "高级索马里语", "索马里语视听说", "索马里语写作", "索马里文学", "索马里国情", "东非文化"]),
            ("土库曼语", "050266T", "培养从事土库曼语教学、翻译、研究的专业人才",
             ["基础土库曼语", "高级土库曼语", "土库曼语视听说", "土库曼语写作", "土库曼文学", "土库曼斯坦国情", "中亚文化"]),
            ("加泰罗尼亚语", "050267T", "培养从事加泰罗尼亚语教学、翻译、研究的专业人才",
             ["基础加泰罗尼亚语", "高级加泰罗尼亚语", "加泰罗尼亚语视听说", "加泰罗尼亚语写作", "加泰罗尼亚文学", "加泰罗尼亚国情", "伊比利亚文化"]),
            ("约鲁巴语", "050268T", "培养从事约鲁巴语教学、翻译、研究的专业人才",
             ["基础约鲁巴语", "高级约鲁巴语", "约鲁巴语视听说", "约鲁巴语写作", "约鲁巴文学", "尼日利亚国情", "西非文化"]),
            ("亚美尼亚语", "050269T", "培养从事亚美尼亚语教学、翻译、研究的专业人才",
             ["基础亚美尼亚语", "高级亚美尼亚语", "亚美尼亚语视听说", "亚美尼亚语写作", "亚美尼亚文学", "亚美尼亚国情", "高加索文化"]),
            ("马达加斯加语", "050270T", "培养从事马达加斯加语教学、翻译、研究的专业人才",
             ["基础马达加斯加语", "高级马达加斯加语", "马达加斯加语视听说", "马达加斯加语写作", "马达加斯加文学", "马达加斯加国情", "印度洋文化"]),
            ("格鲁吉亚语", "050271T", "培养从事格鲁吉亚语教学、翻译、研究的专业人才",
             ["基础格鲁吉亚语", "高级格鲁吉亚语", "格鲁吉亚语视听说", "格鲁吉亚语写作", "格鲁吉亚文学", "格鲁吉亚国情", "高加索文化"]),
            ("阿塞拜疆语", "050272T", "培养从事阿塞拜疆语教学、翻译、研究的专业人才",
             ["基础阿塞拜疆语", "高级阿塞拜疆语", "阿塞拜疆语视听说", "阿塞拜疆语写作", "阿塞拜疆文学", "阿塞拜疆国情", "高加索文化"]),
            ("阿非利卡语", "050273T", "培养从事阿非利卡语教学、翻译、研究的专业人才",
             ["基础阿非利卡语", "高级阿非利卡语", "阿非利卡语视听说", "阿非利卡语写作", "阿非利卡文学", "南非国情", "布尔文化"]),
            ("马其顿语", "050274T", "培养从事马其顿语教学、翻译、研究的专业人才",
             ["基础马其顿语", "高级马其顿语", "马其顿语视听说", "马其顿语写作", "马其顿文学", "北马其顿国情", "巴尔干文化"]),
            ("塔吉克语", "050275T", "培养从事塔吉克语教学、翻译、研究的专业人才",
             ["基础塔吉克语", "高级塔吉克语", "塔吉克语视听说", "塔吉克语写作", "塔吉克文学", "塔吉克斯坦国情", "中亚文化"]),
            ("茨瓦纳语", "050276T", "培养从事茨瓦纳语教学、翻译、研究的专业人才",
             ["基础茨瓦纳语", "高级茨瓦纳语", "茨瓦纳语视听说", "茨瓦纳语写作", "茨瓦纳文学", "博茨瓦纳国情", "南部非洲文化"]),
            ("恩德贝莱语", "050277T", "培养从事恩德贝莱语教学、翻译、研究的专业人才",
             ["基础恩德贝莱语", "高级恩德贝莱语", "恩德贝莱语视听说", "恩德贝莱语写作", "恩德贝莱文学", "津巴布韦国情", "南部非洲文化"]),
            ("科摩罗语", "050278T", "培养从事科摩罗语教学、翻译、研究的专业人才",
             ["基础科摩罗语", "高级科摩罗语", "科摩罗语视听说", "科摩罗语写作", "科摩罗文学", "科摩罗国情", "印度洋文化"]),
            ("克里奥尔语", "050279T", "培养从事克里奥尔语教学、翻译、研究的专业人才",
             ["基础克里奥尔语", "高级克里奥尔语", "克里奥尔语视听说", "克里奥尔语写作", "克里奥尔文学", "克里奥尔地区国情", "洋泾浜文化"]),
            ("绍纳语", "050280T", "培养从事绍纳语教学、翻译、研究的专业人才",
             ["基础绍纳语", "高级绍纳语", "绍纳语视听说", "绍纳语写作", "绍纳文学", "津巴布韦国情", "南部非洲文化"]),
            ("提格雷尼亚语", "050281T", "培养从事提格雷尼亚语教学、翻译、研究的专业人才",
             ["基础提格雷尼亚语", "高级提格雷尼亚语", "提格雷尼亚语视听说", "提格雷尼亚语写作", "提格雷尼亚文学", "厄立特里亚国情", "东非文化"]),
            ("白俄罗斯语", "050282T", "培养从事白俄罗斯语教学、翻译、研究的专业人才",
             ["基础白俄罗斯语", "高级白俄罗斯语", "白俄罗斯语视听说", "白俄罗斯语写作", "白俄罗斯文学", "白俄罗斯国情", "东欧文化"]),
            ("毛利语", "050283T", "培养从事毛利语教学、翻译、研究的专业人才",
             ["基础毛利语", "高级毛利语", "毛利语视听说", "毛利语写作", "毛利文学", "新西兰国情", "波利尼西亚文化"]),
            ("汤加语", "050284T", "培养从事汤加语教学、翻译、研究的专业人才",
             ["基础汤加语", "高级汤加语", "汤加语视听说", "汤加语写作", "汤加文学", "汤加国情", "波利尼西亚文化"]),
            ("萨摩亚语", "050285T", "培养从事萨摩亚语教学、翻译、研究的专业人才",
             ["基础萨摩亚语", "高级萨摩亚语", "萨摩亚语视听说", "萨摩亚语写作", "萨摩亚文学", "萨摩亚国情", "波利尼西亚文化"]),
            ("库尔德语", "050286T", "培养从事库尔德语教学、翻译、研究的专业人才",
             ["基础库尔德语", "高级库尔德语", "库尔德语视听说", "库尔德语写作", "库尔德文学", "库尔德地区国情", "西亚文化"]),
            ("比斯拉马语", "050287T", "培养从事比斯拉马语教学、翻译、研究的专业人才",
             ["基础比斯拉马语", "高级比斯拉马语", "比斯拉马语视听说", "比斯拉马语写作", "比斯拉马文学", "瓦努阿图国情", "太平洋文化"]),
            ("达里语", "050288T", "培养从事达里语教学、翻译、研究的专业人才",
             ["基础达里语", "高级达里语", "达里语视听说", "达里语写作", "达里文学", "阿富汗国情", "中亚文化"]),
            ("德顿语", "050289T", "培养从事德顿语教学、翻译、研究的专业人才",
             ["基础德顿语", "高级德顿语", "德顿语视听说", "德顿语写作", "德顿文学", "东帝汶国情", "东南亚文化"]),
            ("迪维希语", "050290T", "培养从事迪维希语教学、翻译、研究的专业人才",
             ["基础迪维希语", "高级迪维希语", "迪维希语视听说", "迪维希语写作", "迪维希文学", "马尔代夫国情", "南亚文化"]),
            ("斐济语", "050291T", "培养从事斐济语教学、翻译、研究的专业人才",
             ["基础斐济语", "高级斐济语", "斐济语视听说", "斐济语写作", "斐济文学", "斐济国情", "太平洋文化"]),
            ("库克群岛毛利语", "050292T", "培养从事库克群岛毛利语教学、翻译、研究的专业人才",
             ["基础库克群岛毛利语", "高级库克群岛毛利语", "库克群岛毛利语视听说", "库克群岛毛利语写作", "库克群岛文学", "库克群岛国情", "波利尼西亚文化"]),
            ("隆迪语", "050293T", "培养从事隆迪语教学、翻译、研究的专业人才",
             ["基础隆迪语", "高级隆迪语", "隆迪语视听说", "隆迪语写作", "隆迪文学", "布隆迪国情", "东非文化"]),
            ("卢森堡语", "050294T", "培养从事卢森堡语教学、翻译、研究的专业人才",
             ["基础卢森堡语", "高级卢森堡语", "卢森堡语视听说", "卢森堡语写作", "卢森堡文学", "卢森堡国情", "西欧文化"]),
            ("卢旺达语", "050295T", "培养从事卢旺达语教学、翻译、研究的专业人才",
             ["基础卢旺达语", "高级卢旺达语", "卢旺达语视听说", "卢旺达语写作", "卢旺达文学", "卢旺达国情", "东非文化"]),
            ("纽埃语", "050296T", "培养从事纽埃语教学、翻译、研究的专业人才",
             ["基础纽埃语", "高级纽埃语", "纽埃语视听说", "纽埃语写作", "纽埃文学", "纽埃国情", "波利尼西亚文化"]),
            ("皮金语", "050297T", "培养从事皮金语教学、翻译、研究的专业人才",
             ["基础皮金语", "高级皮金语", "皮金语视听说", "皮金语写作", "皮金文学", "巴布亚新几内亚国情", "太平洋文化"]),
            ("切瓦语", "050298T", "培养从事切瓦语教学、翻译、研究的专业人才",
             ["基础切瓦语", "高级切瓦语", "切瓦语视听说", "切瓦语写作", "切瓦文学", "马拉维国情", "南部非洲文化"]),
            ("塞苏陀语", "050299T", "培养从事塞苏陀语教学、翻译、研究的专业人才",
             ["基础塞苏陀语", "高级塞苏陀语", "塞苏陀语视听说", "塞苏陀语写作", "塞苏陀文学", "莱索托国情", "南部非洲文化"]),
            ("桑戈语", "050200T", "培养从事桑戈语教学、翻译、研究的专业人才",
             ["基础桑戈语", "高级桑戈语", "桑戈语视听说", "桑戈语写作", "桑戈文学", "中非共和国国情", "中部非洲文化"]),
            ("语言学", "0502100T", "培养从事语言学研究的专业人才",
             ["语言学概论", "语音学", "音系学", "形态学", "句法学", "语义学", "语用学", "语言类型学"]),
            ("塔玛齐格特语", "0502101T", "培养从事塔玛齐格特语教学、翻译、研究的专业人才",
             ["基础塔玛齐格特语", "高级塔玛齐格特语", "塔玛齐格特语视听说", "塔玛齐格特语写作", "柏柏尔文学", "摩洛哥国情", "北非文化"]),
            ("爪哇语", "0502102T", "培养从事爪哇语教学、翻译、研究的专业人才",
             ["基础爪哇语", "高级爪哇语", "爪哇语视听说", "爪哇语写作", "爪哇文学", "印度尼西亚国情", "东南亚文化"]),
            ("旁遮普语", "0502103T", "培养从事旁遮普语教学、翻译、研究的专业人才",
             ["基础旁遮普语", "高级旁遮普语", "旁遮普语视听说", "旁遮普语写作", "旁遮普文学", "巴基斯坦/印度国情", "南亚文化"]),
            ("区域国别学", "0502104TK", "培养从事区域国别研究的专业人才",
             ["区域国别学导论", "区域研究方法论", "国际关系", "比较政治学", "跨文化交际", "田野调查", "专业外语"]),
        ]
        for name, code, desc, courses in majors_data:
            create_major_if_not_exists(db, name, code, category.id, desc, 4, courses)
        
        print("\n=== 文学类（外国语言文学B）数据初始化完成 ===")
        
    finally:
        db.close()

if __name__ == "__main__":
    init_literature_foreign_b_data()
